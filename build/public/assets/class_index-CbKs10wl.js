import{W as y,j as e,r as _,Y as L,a as T}from"./app-LdO5xby3.js";import{c as f,B as h}from"./button-B4OTIyGS.js";import{D as O,a as F,b as M,c as A,d as z}from"./index-CKWJj8vZ.js";import{I as S}from"./input-DqOg99j5.js";import{L as j}from"./label-DSsEh3nW.js";import{S as v,a as E,b as D,c as V,d as g}from"./select-DxLacraJ.js";import{l as k,P as B}from"./lodash-D7_sRmDr.js";import{T as H,a as P,b as w,c as p,d as R,e as b}from"./table-DVnI7eNv.js";import{S as $}from"./school_layout-JKlY_fET.js";import"./sheet-CEiO1oB5.js";import"./index-Bk9cuW67.js";import"./school-CJS83_n0.js";function W({isOpen:m,onClose:i,schools:n,teachers:c}){const{data:l,setData:o,post:u,processing:r,errors:t,reset:N}=y({name:"",schoolId:"",teacherId:""});console.log(c);const d=c.filter(s=>s.schoolId===Number.parseInt(l.schoolId)),x=s=>{s.preventDefault(),u("/myschools/classes",{preserveState:!0,preserveScroll:!0,onSuccess:()=>{N(),i()}})};return e.jsxDEV(O,{open:m,onOpenChange:i,children:e.jsxDEV(F,{children:[e.jsxDEV(M,{children:e.jsxDEV(A,{children:"Add New Class"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:66,columnNumber:11},this)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:65,columnNumber:9},this),e.jsxDEV("form",{onSubmit:x,children:[e.jsxDEV("div",{className:"grid items-center w-full gap-4",children:[e.jsxDEV("div",{className:"flex flex-col space-y-1.5",children:[e.jsxDEV(j,{htmlFor:"name",children:"Class Name"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:71,columnNumber:15},this),e.jsxDEV(S,{id:"name",value:l.name,onChange:s=>o("name",s.target.value),placeholder:"Enter class name"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:72,columnNumber:15},this),t.name&&e.jsxDEV("p",{className:"text-sm text-red-500",children:f(t.name)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:79,columnNumber:17},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:70,columnNumber:13},this),e.jsxDEV("div",{className:"flex flex-col space-y-1.5",children:[e.jsxDEV(j,{htmlFor:"schoolId",children:"School"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:83,columnNumber:15},this),e.jsxDEV(v,{value:l.schoolId,onValueChange:s=>o("schoolId",s),children:[e.jsxDEV(E,{id:"schoolId",children:e.jsxDEV(D,{placeholder:"Select a school"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:86,columnNumber:19},this)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:85,columnNumber:17},this),e.jsxDEV(V,{children:n.map(s=>e.jsxDEV(g,{value:s.id.toString(),children:s.name},s.id,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:90,columnNumber:21},this))},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:88,columnNumber:17},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:84,columnNumber:15},this),t.schoolId&&e.jsxDEV("p",{className:"text-sm text-red-500",children:f(t.schoolId)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:97,columnNumber:17},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:82,columnNumber:13},this),e.jsxDEV("div",{className:"flex flex-col space-y-1.5",children:[e.jsxDEV(j,{htmlFor:"teacherId",children:"Teacher"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:101,columnNumber:15},this),e.jsxDEV(v,{disabled:d.length===0,value:l.teacherId,onValueChange:s=>o("teacherId",s),children:[e.jsxDEV(E,{id:"teacherId",children:e.jsxDEV(D,{placeholder:"Select a teacher"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:108,columnNumber:19},this)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:107,columnNumber:17},this),e.jsxDEV(V,{children:d.map(s=>e.jsxDEV(g,{value:s.user.id.toString(),children:s.user.fullName},s.user.id,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:112,columnNumber:21},this))},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:110,columnNumber:17},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:102,columnNumber:15},this),t.teacherId&&e.jsxDEV("p",{className:"text-sm text-red-500",children:f(t.teacherId)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:119,columnNumber:17},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:100,columnNumber:13},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:69,columnNumber:11},this),e.jsxDEV(z,{children:e.jsxDEV(h,{type:"submit",disabled:r,className:"mt-3",children:"Save"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:126,columnNumber:13},this)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:125,columnNumber:11},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:68,columnNumber:9},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:64,columnNumber:7},this)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/create_class_modal.tsx",lineNumber:63,columnNumber:5},this)}function G({isOpen:m,onClose:i,classs:n,teachers:c}){const{data:l,setData:o,put:u,processing:r,errors:t,reset:N}=y({name:n.name,teacherId:n.teacherId}),d=s=>{o("teacherId",Number.parseInt(s))},x=s=>{s.preventDefault(),u(`/myschools/classes/${n.id}`,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{N(),i()}})};return e.jsxDEV(O,{open:m,onOpenChange:i,children:e.jsxDEV(F,{children:[e.jsxDEV(M,{children:e.jsxDEV(A,{children:["Edit Class: ",n.name]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:62,columnNumber:11},this)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:61,columnNumber:9},this),e.jsxDEV("form",{onSubmit:x,children:[e.jsxDEV("div",{className:"grid items-center w-full gap-4",children:[e.jsxDEV("div",{className:"flex flex-col space-y-1.5",children:[e.jsxDEV(j,{htmlFor:"name",children:"Class Name"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:67,columnNumber:15},this),e.jsxDEV(S,{id:"name",value:l.name,onChange:s=>o("name",s.target.value)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:68,columnNumber:15},this),t.name&&e.jsxDEV("p",{className:"text-sm text-red-500",children:f(t.name)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:74,columnNumber:17},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:66,columnNumber:13},this),e.jsxDEV("div",{className:"flex flex-col space-y-1.5",children:[e.jsxDEV(j,{htmlFor:"teacherId",children:"Teacher"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:78,columnNumber:15},this),e.jsxDEV(v,{defaultValue:l.teacherId.toString(),onValueChange:d,children:[e.jsxDEV(E,{children:e.jsxDEV(D,{placeholder:"Select a teacher"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:85,columnNumber:19},this)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:84,columnNumber:17},this),e.jsxDEV(V,{children:c.map(s=>{var a;return e.jsxDEV(g,{value:s.user.id.toString(),children:((a=s.user)==null?void 0:a.fullName)||"Unknown Teacher"},s.user.id,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:89,columnNumber:21},this)})},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:87,columnNumber:17},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:79,columnNumber:15},this),t.teacherId&&e.jsxDEV("p",{className:"text-sm text-red-500",children:f(t.teacherId)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:96,columnNumber:17},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:77,columnNumber:13},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:65,columnNumber:11},this),e.jsxDEV(z,{children:e.jsxDEV(h,{type:"submit",disabled:r,className:"mt-3",children:"Save Changes"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:103,columnNumber:13},this)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:102,columnNumber:11},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:64,columnNumber:9},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:60,columnNumber:7},this)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/components/modals/edit_class_modal.tsx",lineNumber:59,columnNumber:5},this)}function me(m){const i=m.classes.data,[n,c]=_.useState(!1),[l,o]=_.useState(),[u,r]=_.useState(!1),{data:t,setData:N,get:d}=y({search:"",page:m.classes.meta.currentPage});_.useEffect(()=>(s(),s.cancel),[t.search]);const x=a=>{o(a),r(!0)},s=k.debounce(()=>{d("/myschools/classes?",{preserveState:!0,preserveScroll:!0,only:["classes"]})},300);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(L,{title:"Classes"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:62,columnNumber:7},this),e.jsxDEV($,{children:e.jsxDEV("div",{className:"container p-4 mx-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("h1",{className:"text-2xl font-bold",children:"Classes List"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:66,columnNumber:13},this),e.jsxDEV(h,{className:"mb-4",onClick:()=>c(!0),children:"Add New Class"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:67,columnNumber:13},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:65,columnNumber:11},this),e.jsxDEV(S,{type:"text",placeholder:"Search Class...",value:t.search,onChange:a=>N("search",a.target.value),className:"max-w-xs"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:71,columnNumber:11},this),e.jsxDEV(H,{children:[e.jsxDEV(P,{children:e.jsxDEV(w,{children:[e.jsxDEV(p,{children:"#"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:81,columnNumber:17},this),e.jsxDEV(p,{children:"Name"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:82,columnNumber:17},this),e.jsxDEV(p,{children:"School"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:83,columnNumber:17},this),e.jsxDEV(p,{children:"Teacher"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:84,columnNumber:17},this),e.jsxDEV(p,{children:"Actions"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:85,columnNumber:17},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:80,columnNumber:15},this)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:79,columnNumber:13},this),e.jsxDEV(R,{children:i.map(a=>{var C,I;return e.jsxDEV(w,{children:[e.jsxDEV(b,{children:a.id},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:91,columnNumber:19},this),e.jsxDEV(b,{children:a.name},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:92,columnNumber:19},this),e.jsxDEV(b,{children:((C=a.school)==null?void 0:C.name)||"N/A"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:93,columnNumber:19},this),e.jsxDEV(b,{children:((I=a.teacher)==null?void 0:I.fullName)||"N/A"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:94,columnNumber:19},this),e.jsxDEV(b,{children:[e.jsxDEV(h,{variant:"outline",size:"sm",className:"mr-5",onClick:()=>x(a),children:"Edit"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:96,columnNumber:21},this),e.jsxDEV(h,{variant:"outline",size:"sm",className:"mr-5",children:e.jsxDEV(T,{href:`/myschools/classes/${a.id}/attendances`,children:"View Attendance"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:107,columnNumber:23},this)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:105,columnNumber:21},this),e.jsxDEV(h,{variant:"outline",size:"sm",className:"mr-5",children:e.jsxDEV(T,{href:`/myschools/classes/${a.id}/students`,children:"View Students"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:113,columnNumber:23},this)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:111,columnNumber:21},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:95,columnNumber:19},this)]},a.id,!0,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:90,columnNumber:17},this)})},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:88,columnNumber:13},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:78,columnNumber:11},this),e.jsxDEV(B,{paginationData:m.classes.meta,baseRoute:"/myschools/classes"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:122,columnNumber:11},this),e.jsxDEV(W,{schools:m.schools,teachers:m.schoolTeachers,isOpen:n,onClose:()=>c(!1)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:123,columnNumber:11},this),l&&e.jsxDEV(G,{classs:l,teachers:m.schoolTeachers,isOpen:u,onClose:()=>{o(null),r(!1)}},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:131,columnNumber:13},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:64,columnNumber:9},this)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:63,columnNumber:7},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_index.tsx",lineNumber:61,columnNumber:5},this)}export{me as default};
