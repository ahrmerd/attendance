import{r as m,W as g,j as e,Y as E}from"./app-LdO5xby3.js";import{E as y}from"./edit_student_modal-Dab2Plzr.js";import{l as v,P as D}from"./lodash-D7_sRmDr.js";import{B as u}from"./button-B4OTIyGS.js";import{I as V}from"./input-DqOg99j5.js";import{T as S,a as C,b as h,c as t,d as T,e as a}from"./table-DVnI7eNv.js";import{S as I}from"./school_layout-JKlY_fET.js";import"./index-CKWJj8vZ.js";import"./sheet-CEiO1oB5.js";import"./index-Bk9cuW67.js";import"./select-DxLacraJ.js";import"./label-DSsEh3nW.js";import"./school-CJS83_n0.js";function W(n){const x=n.students.data,i=n.class,N=n.classes,[l,o]=m.useState(null),[p,c]=m.useState(!1),{data:d,setData:b,get:f}=g({search:"",page:n.students.meta.currentPage}),j=s=>{o(s),c(!0)},r=v.debounce(()=>{f(`/myschools/classes/${i.id}/students`,{preserveState:!0,preserveScroll:!0,only:["students"]})},300);m.useEffect(()=>(r(),r.cancel),[d.search]);const _=s=>{b("search",s.target.value)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(E,{title:"Class Students"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:60,columnNumber:7},this),e.jsxDEV(I,{children:e.jsxDEV("div",{className:"container p-4 mx-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:e.jsxDEV("h1",{className:"text-2xl font-bold",children:["Students List for ",i.name]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:64,columnNumber:13},this)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:63,columnNumber:11},this),e.jsxDEV(V,{type:"text",placeholder:"Search Student...",value:d.search,onChange:_,className:"max-w-xs mb-4"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:66,columnNumber:11},this),e.jsxDEV(S,{children:[e.jsxDEV(C,{children:e.jsxDEV(h,{children:[e.jsxDEV(t,{children:"#"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:76,columnNumber:17},this),e.jsxDEV(t,{children:"First Name"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:77,columnNumber:17},this),e.jsxDEV(t,{children:"Last Name"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:78,columnNumber:17},this),e.jsxDEV(t,{children:"Class"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:79,columnNumber:17},this),e.jsxDEV(t,{children:"Primary Number"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:80,columnNumber:17},this),e.jsxDEV(t,{children:"Status"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:81,columnNumber:17},this),e.jsxDEV(t,{children:"Actions"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:82,columnNumber:17},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:75,columnNumber:15},this)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:74,columnNumber:13},this),e.jsxDEV(T,{children:x.map(s=>e.jsxDEV(h,{children:[e.jsxDEV(a,{children:s.id},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:88,columnNumber:19},this),e.jsxDEV(a,{children:s.firstName},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:89,columnNumber:19},this),e.jsxDEV(a,{children:s.lastName},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:90,columnNumber:19},this),e.jsxDEV(a,{children:s.class.name},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:91,columnNumber:19},this),e.jsxDEV(a,{children:s.primaryContact},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:92,columnNumber:19},this),e.jsxDEV(a,{children:e.jsxDEV(u,{className:s.status==="active"?"bg-green-500":"bg-gray-400",children:s.status},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:94,columnNumber:21},this)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:93,columnNumber:19},this),e.jsxDEV(a,{children:e.jsxDEV(u,{onClick:()=>j(s),children:"Edit"},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:101,columnNumber:21},this)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:100,columnNumber:19},this)]},s.id,!0,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:87,columnNumber:17},this))},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:85,columnNumber:13},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:73,columnNumber:11},this),e.jsxDEV(D,{paginationData:n.students.meta,baseRoute:`/myschools/classes/${i.id}/students`},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:107,columnNumber:11},this),l&&e.jsxDEV(y,{classes:N,student:l,isOpen:p,onClose:()=>{o(null),c(!1)}},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:112,columnNumber:13},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:62,columnNumber:9},this)},void 0,!1,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:61,columnNumber:7},this)]},void 0,!0,{fileName:"/home/ahmed/projects/attendance/inertia/pages/myschools/class_students_index.tsx",lineNumber:59,columnNumber:5},this)}export{W as default};
